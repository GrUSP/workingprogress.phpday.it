section(id="hero__speakers").section_nopadding
  .speakers__container
    - no_of_speakers = 0
    - suffix = ""
    - const var_speakers = []
    each talk in site.data.talks_speakers.talks
      if(!talk.is_service_item)
        each speaker in talk.speakers
          - var_speakers.push(speaker)
    each speaker in var_speakers.map(speaker => speaker.speaker_name).filter((value, index, self) => self.indexOf(value) === index)
      - no_of_speakers++
    if no_of_speakers > 1
      - suffix = "s"
    .columns
      .column.inner
        h2(role="heading" aria-level="2").title.is-2 !{no_of_speakers} !{site.data.defaults.conference.speakers_title}!{suffix}
        .inner_holder
          - const filtered_speaker_names = var_speakers.map(speaker => speaker.speaker_name).filter((value, index, self) => self.indexOf(value) === index).sort((a, b) => (a.speaker_name > b.speaker_name) ? 1 : -1)
          - const map = new Map()
          - const filtered = []
          each item in var_speakers
            if(!map.has(item.speaker_name))
              - map.set(item.speaker_name, true)
              - filtered.push({speaker_name: item.speaker_name, speaker_pic_filename: item.speaker_pic_filename, speaker_role: item.speaker_role})
          each speaker in filtered
            if(speaker.speaker_name === item)
            - filename = `/img/speakers/${speaker.speaker_pic_filename}`
            - target_href = `/talks_speakers#${speaker.speaker_name}`
            a(href=target_href role="button" aria-label=speaker.speaker_name)
              .card.speaker-card
                .card-image
                  img(src=filename role="figure" aria-label=speaker.speaker_name)
                .card-content
                  p.title !{speaker.speaker_name}
                  p
                    em !{speaker.speaker_role}
